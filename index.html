<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H√†nh Tr√¨nh Xanh | N·ªÅn T·∫£ng H√†nh ƒê·ªông V√¨ M√¥i Tr∆∞·ªùng</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

    <script type="text/javascript">
       (function(){ emailjs.init("5HKls07ddozFB3Ehg"); })();
    </script>

    <style>
        :root { --green-main: #2d6a4f; --green-dark: #1b4332; --accent: #74c69d; --light: #f8fdfa; }
        body { font-family: 'Plus Jakarta Sans', sans-serif; background: var(--light); color: #333; scroll-behavior: smooth; }
        
        /* Navbar & Hero */
        .navbar { background: var(--green-dark) !important; backdrop-filter: blur(10px); }
        .hero-section { 
            background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://images.unsplash.com/photo-1473448912268-2022ce9509d8?auto=format&fit=crop&w=1600&q=80');
            background-size: cover; background-position: center; padding: 100px 0; color: white; border-bottom-left-radius: 50px; border-bottom-right-radius: 50px;
        }

        /* Common Components */
        .glass-card { background: white; border-radius: 25px; border: none; box-shadow: 0 10px 30px rgba(0,0,0,0.05); transition: 0.3s; height: 100%; }
        .glass-card:hover { transform: translateY(-5px); box-shadow: 0 15px 35px rgba(0,0,0,0.1); }
        
        /* Carbon Calculator */
        .calculator-box { background: linear-gradient(135deg, #d8f3dc 0%, #b7e4c7 100%); border-radius: 30px; padding: 40px; }
        .result-display { background: var(--green-main); color: white; border-radius: 20px; padding: 30px; text-align: center; }
        .result-value { font-size: 3rem; font-weight: 800; display: block; color: var(--accent); }

        /* Articles */
        .article-img { height: 200px; object-fit: cover; border-top-left-radius: 25px; border-top-right-radius: 25px; }
        
        /* Map & Charts */
        #map { height: 400px; border-radius: 25px; border: 5px solid white; box-shadow: 0 10px 20px rgba(0,0,0,0.05); }
        
        .tip-banner { background: var(--green-main); color: white; border-radius: 25px; padding: 30px; margin-top: 50px; position: relative; overflow: hidden; }
        .tip-banner i { position: absolute; right: -10px; bottom: -10px; font-size: 100px; opacity: 0.1; }

        footer { background: var(--green-dark); color: white; padding: 50px 0; margin-top: 100px; }
    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-dark sticky-top">
        <div class="container">
            <a class="navbar-brand fw-bold fs-3" href="#"><i class="fas fa-globe-asia text-accent me-2"></i>H√ÄNH TR√åNH <span class="text-accent">XANH</span></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="#calculator">M√°y T√≠nh Carbon</a></li>
                    <li class="nav-item"><a class="nav-link" href="#articles">Tin T·ª©c</a></li>
                    <li class="nav-item"><a class="nav-link" href="#map-section">B·∫£n ƒê·ªì</a></li>
                    <li class="nav-item"><a class="nav-link btn btn-accent text-dark fw-bold px-4 ms-lg-3 rounded-pill" href="#register">Tham Gia Ngay</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <header class="hero-section text-center">
        <div class="container">
            <h1 class="display-2 fw-bold mb-3">H√†nh ƒê·ªông V√¨ T∆∞∆°ng Lai</h1>
            <p class="lead fs-4 mb-4 opacity-75">N·ªÅn t·∫£ng t√≠ch h·ª£p ƒëo l∆∞·ªùng, theo d√µi v√† h√†nh ƒë·ªông b·∫£o v·ªá m√¥i tr∆∞·ªùng.</p>
            <div class="d-flex justify-content-center gap-3">
                <a href="#calculator" class="btn btn-accent btn-lg px-5 rounded-pill fw-bold">T√≠nh D·∫•u Ch√¢n Carbon</a>
                <a href="#register" class="btn btn-outline-light btn-lg px-5 rounded-pill">ƒêƒÉng K√Ω Th√†nh Vi√™n</a>
            </div>
        </div>
    </header>

    <section id="calculator" class="container py-5 mt-5">
        <div class="calculator-box shadow">
            <div class="row align-items-center">
                <div class="col-lg-7">
                    <h2 class="fw-bold text-success mb-4"><i class="fas fa-leaf me-2"></i>M√°y T√≠nh D·∫•u Ch√¢n Carbon</h2>
                    <p class="text-muted mb-4">Nh·∫≠p d·ªØ li·ªáu ti√™u d√πng h√†ng th√°ng c·ªßa b·∫°n ƒë·ªÉ xem l∆∞·ª£ng kh√≠ th·∫£i CO‚ÇÇ t∆∞∆°ng ·ª©ng.</p>
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label class="form-label small fw-bold">ƒêi·ªán nƒÉng (kWh/th√°ng)</label>
                            <input type="number" id="calc-elec" class="form-control rounded-pill border-0 px-4 py-2" placeholder="VD: 250">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label small fw-bold">ƒêi l·∫°i b·∫±ng ƒë·ªông c∆° (km/th√°ng)</label>
                            <input type="number" id="calc-travel" class="form-control rounded-pill border-0 px-4 py-2" placeholder="VD: 400">
                        </div>
                        <div class="col-12">
                            <label class="form-label small fw-bold">Th√≥i quen ƒÉn u·ªëng</label>
                            <select id="calc-diet" class="form-select rounded-pill border-0 px-4 py-2">
                                <option value="1.5">ƒÇn nhi·ªÅu th·ªãt ƒë·ªè (B√≤, C·ª´u...)</option>
                                <option value="1.1">C√¢n b·∫±ng (Th·ªãt, C√°, Rau)</option>
                                <option value="0.7">ƒÇn chay / Thu·∫ßn th·ª±c v·∫≠t</option>
                            </select>
                        </div>
                        <div class="col-12 mt-4">
                            <button class="btn btn-success w-100 rounded-pill fw-bold py-3 shadow-sm" onclick="calculateCarbon()">T√çNH TO√ÅN K·∫æT QU·∫¢</button>
                        </div>
                    </div>
                </div>
                <div class="col-lg-5 mt-4 mt-lg-0">
                    <div class="result-display">
                        <h5 class="opacity-75">Ph√°t th·∫£i c√° nh√¢n c·ªßa b·∫°n</h5>
                        <span id="carbon-result" class="result-value">0.0</span>
                        <p class="fw-bold">kg CO‚ÇÇ / th√°ng</p>
                        <hr>
                        <p id="carbon-advice" class="small fst-italic">H√£y nh·∫≠p s·ªë li·ªáu ƒë·ªÉ nh·∫≠n l·ªùi khuy√™n t·ª´ chuy√™n gia.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="articles" class="container py-5">
        <div class="d-flex justify-content-between align-items-end mb-4">
            <div>
                <h2 class="fw-bold mb-0">Ki·∫øn Th·ª©c S·ªëng Xanh</h2>
                <p class="text-muted">C·∫≠p nh·∫≠t tin t·ª©c m·ªõi nh·∫•t v·ªÅ bi·∫øn ƒë·ªïi kh√≠ h·∫≠u.</p>
            </div>
        </div>
        <div id="news-grid" class="row g-4">
            </div>
    </section>

    <section id="map-section" class="container py-5">
        <div class="row g-4 mb-5">
            <div class="col-lg-12">
                <div class="glass-card p-4">
                    <h4 class="fw-bold mb-4"><i class="fas fa-chart-line text-success me-2"></i>Bi·ªÉu ƒê·ªì Theo D√µi D·ª± √Ån</h4>
                    <canvas id="impactChart"></canvas>
                </div>
            </div>
            <!-- <div class="col-lg-4">
                <div class="glass-card p-4 bg-light">
                    <h5 class="fw-bold mb-3">Eco-Radio üéµ</h5>
                    <div class="ratio ratio-1x1 shadow-sm rounded-4 overflow-hidden">
                        <iframe src="https://www.youtube.com/watch?v=8INaJma881k&list=RD8INaJma881k&start_radio=1" title="Eco Music" allowfullscreen></iframe>
                    </div>
                </div>
            </div> -->
        </div>
        <div id="map"></div>
    </section>

    <section class="container">
        <div class="tip-banner shadow-lg">
            <i class="fas fa-lightbulb"></i>
            <div class="row align-items-center">
                <div class="col-md-9">
                    <h4 class="fw-bold">M·∫πo nh·ªè cho h√¥m nay:</h4>
                    <p id="daily-tip" class="fs-5 mb-0">"S·ª≠ d·ª•ng b√¨nh n∆∞·ªõc c√° nh√¢n thay v√¨ chai nh·ª±a d√πng m·ªôt l·∫ßn."</p>
                </div>
                <div class="col-md-3 text-md-end">
                    <button class="btn btn-light rounded-pill px-4 mt-3 mt-md-0 fw-bold" onclick="getNewTip()">ƒê·ªïi m·∫πo</button>
                </div>
            </div>
        </div>
    </section>

    <section id="register" class="container py-5 mt-5">
        <div class="glass-card p-5 border-start border-success border-5">
            <div class="row align-items-center">
                <div class="col-lg-5 mb-4 mb-lg-0">
                    <h2 class="fw-bold">Gia Nh·∫≠p C·ªông ƒê·ªìng</h2>
                    <p class="text-muted fs-5">Tham gia m·∫°ng l∆∞·ªõi t√¨nh nguy·ªán vi√™n.</p>
                </div>
                <div class="col-lg-7">
                    <form id="ecoForm" class="row g-3">
                        <div class="col-md-6">
                            <input type="text" name="from_name" class="form-control py-3 rounded-4 px-4" placeholder="H·ªç t√™n c·ªßa b·∫°n" required>
                        </div>
                        <div class="col-md-6">
                            <input type="email" name="user_email" class="form-control py-3 rounded-4 px-4" placeholder="Email nh·∫≠n th√¥ng b√°o" required>
                        </div>
                        <div class="col-12">
                            <button type="submit" id="submitBtn" class="btn btn-success w-100 py-3 rounded-4 fw-bold shadow-sm mt-2">
                                G·ª¨I ƒêƒÇNG K√ù THAM GIA
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container text-center">
            <h3 class="fw-bold mb-4">H√†nh Tr√¨nh Xanh</h3>
            <p class="opacity-50">¬© 2026 H√†nh Tr√¨nh Xanh. T·∫•t c·∫£ c√°c d·ªØ li·ªáu ƒë∆∞·ª£c l∆∞u tr·ªØ v√† b·∫£o m·∫≠t.</p>
            <div class="fs-3 mt-4">
                <i class="fab fa-facebook mx-2"></i>
                <i class="fab fa-instagram mx-2"></i>
                <i class="fab fa-twitter mx-2"></i>
            </div>
        </div>
    </footer>

    <script>
        // --- DATA ARTICLES ---
        const articles = [
            { title: "B√≠ quy·∫øt s·ªëng kh√¥ng r√°c th·∫£i", cat: "Lifestyle", img: "https://images.unsplash.com/photo-1532996122724-e3c354a0b15b?auto=format&fit=crop&w=500" },
            { title: "Tr·ªìng c√¢y trong ƒë√¥ th·ªã ch·∫≠t h·∫πp", cat: "Urban", img: "https://images.unsplash.com/photo-1466692476868-aef1dfb1e735?auto=format&fit=crop&w=500" },
            { title: "T∆∞∆°ng lai c·ªßa nƒÉng l∆∞·ª£ng t√°i t·∫°o", cat: "Tech", img: "https://images.unsplash.com/photo-1532996122724-e3c354a0b15b?auto=format&fit=crop&w=500" }
        ];

        const ecoTips = [
            "T·∫≠n d·ª•ng √°nh s√°ng t·ª± nhi√™n thay v√¨ ƒë√®n ƒëi·ªán v√†o ban ng√†y.",
            "T√°i ch·∫ø v·ªè chai l√†m ch·∫≠u tr·ªìng c√¢y nh·ªè xinh.",
            "ƒêi b·ªô ho·∫∑c ƒëi xe ƒë·∫°p cho nh·ªØng qu√£ng ƒë∆∞·ªùng d∆∞·ªõi 2km.",
            "Mua th·ª±c ph·∫©m ƒë·ªãa ph∆∞∆°ng ƒë·ªÉ gi·∫£m ph√°t th·∫£i v·∫≠n chuy·ªÉn."
        ];

        // --- RENDER FUNCTIONS ---
        function renderNews() {
            document.getElementById('news-grid').innerHTML = articles.map(a => `
                <div class="col-md-4">
                    <div class="glass-card">
                        <img src="${a.img}" class="article-img w-100">
                        <div class="p-4">
                            <span class="badge bg-success-subtle text-success mb-2">${a.cat}</span>
                            <h5 class="fw-bold mb-0">${a.title}</h5>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function getNewTip() {
            const tip = ecoTips[Math.floor(Math.random() * ecoTips.length)];
            document.getElementById('daily-tip').innerText = `"${tip}"`;
        }

        // --- CARBON CALCULATOR LOGIC ---
        function calculateCarbon() {
            const elec = parseFloat(document.getElementById('calc-elec').value) || 0;
            const travel = parseFloat(document.getElementById('calc-travel').value) || 0;
            const diet = parseFloat(document.getElementById('calc-diet').value);

            const total = (elec * 0.5) + (travel * 0.2) + (100 * diet);
            animateResult('carbon-result', 0, total, 1000);

            let advice = total < 200 ? "üåø B·∫°n s·ªëng r·∫•t xanh!" : total < 400 ? "‚ö†Ô∏è C·∫ßn ch√∫ √Ω gi·∫£m ph√°t th·∫£i." : "üö® M·ª©c ph√°t th·∫£i qu√° cao!";
            document.getElementById('carbon-advice').innerText = advice;
        }

        function animateResult(id, start, end, duration) {
            const obj = document.getElementById(id);
            let startT = null;
            const step = (t) => {
                if (!startT) startT = t;
                const prog = Math.min((t - startT) / duration, 1);
                obj.innerText = (prog * (end - start) + start).toFixed(1);
                if (prog < 1) window.requestAnimationFrame(step);
            };
            window.requestAnimationFrame(step);
        }

        // --- EMAILJS INTEGRATION ---
        document.getElementById('ecoForm').onsubmit = function(e) {
            e.preventDefault();
            const btn = document.getElementById('submitBtn');
            btn.innerHTML = '<i class="fas fa-circle-notch fa-spin"></i> ƒêang g·ª≠i mail...';
            btn.disabled = true;

            const params = {
                from_name: this.from_name.value,
                user_email: this.user_email.value,
                date: new Date().toLocaleString()
            };

            // G·ª≠i c√πng l√∫c 2 template nh∆∞ y√™u c·∫ßu
            Promise.all([
                emailjs.send('service_ulh982v', 'template_7h25vz3', params),
                emailjs.send('service_ulh982v', 'template_v249xx5', params)
            ]).then(() => {
                alert('Th√†nh c√¥ng!');
                this.reset();
            }).catch(err => alert('L·ªói: ' + JSON.stringify(err)))
            .finally(() => {
                btn.innerHTML = 'G·ª¨I ƒêƒÇNG K√ù X√ÅC NH·∫¨N';
                btn.disabled = false;
            });
        };

        // --- INITIALIZE MAP & CHART ---
        window.onload = () => {
            renderNews();
            
            // Map
            const map = L.map('map').setView([16.0, 108.0], 5);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);
            // L.marker([21.02, 105.83]).addTo(map).bindPopup("D·ª± √°n H√† N·ªôi Xanh");
            L.marker([10.77, 106.66]).addTo(map).bindPopup("L·ªçc n∆∞·ªõc S√†i G√≤n");

            // Chart
            new Chart(document.getElementById('impactChart'), {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May'],
                    datasets: [{ label: 'Ph·ªß xanh (%)', data: [10, 25, 45, 60, 85], borderColor: '#2d6a4f', tension: 0.4, fill: true, backgroundColor: 'rgba(45, 106, 79, 0.1)' }]
                }
            });
        };
    </script>
</body>
</html>


